Akri使您可以轻松地将异构叶子设备(例如IP摄像机和USB设备)公开为Kubernetes集群中的资源,同时还支持公开嵌入式硬件资源(例如GPU和FPGA).Akri不断检测有权访问这些设备的节点,并根据这些节点计划工作负载.简而言之：您对设备进行命名,Akri会找到它,然后使用它。

# 为什么选择akri

在边缘,有各种各样的传感器,控制器和MCU类设备正在产生数据并执行动作。为了使Kubernetes成为可行的边缘计算解决方案,Kubernetes集群需要轻松利用这些异构的"叶子设备"。但是,许多此类叶子设备太小,无法自行运行Kubernetes.Akri是一个开源项目,将这些叶设备公开为Kubernetes集群中的资源。它利用并扩展了Kubernetes设备插件框架,该框架是在考虑云的基础上创建的,并专注于广告静态资源,例如GPU和其他系统硬件.Akri采用了此框架并将其应用于边缘,那里有一组具有独特通信协议和间歇可用性的叶子设备。

Akri专为边缘设计,可处理叶子设备的动态外观和消失情况.Akri提供了类似于CNI的抽象层,但是它没有对底层网络详细信息进行抽象,而是删除了查找,利用和监视叶子设备的可用性的工作。操作员只需要将Akri配置应用于群集,即可指定发现协议(例如ONVIF)和发现时应部署的Pod(例如视频帧服务器)。然后,Akri负责其余的工作。运营商还可以允许多个节点使用分支设备,从而在节点脱机的情况下提供高可用性。此外,Akri将为每种类型的叶子设备(或Akri配置)自动创建Kubernetes服务,从而无需应用程序来跟踪Pod或节点的状态。

最重要的是,Akri被构建为可扩展的。我们目前拥有ONVIF和udev发现协议,并且正在努力实现OPC UA,但是像您这样的社区成员可以轻松添加更多协议.Akri支持的协议越多,Akri可以发现的叶子设备的范围越广。我们很高兴与您合作,建立更紧密的联系。

# Akri如何运作

Akri的架构由四个关键组件组成：两个自定义资源,一个设备插件实现和一个自定义控制器.您可以在第一个自定义资源"Akri配置"中对其进行命名.这告诉Akri应该寻找哪种设备.此时,Akri找到了!Akri的设备插件实现会使用Akri的第二个自定义资源Akri Instance查找设备并跟踪其可用性.找到设备后,Akri Controller可以帮助您使用它.它查看每个Akri实例(代表叶子设备),并部署一个"代理"pod,该pod知道如何连接到资源并加以利用。

![](https://github.com/deislabs/akri/blob/main/docs/media/akri-architecture.svg)

