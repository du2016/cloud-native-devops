docker指定网络模式


# 网络模式

bridge：默认的网络驱动程序。如果未指定驱动程序，则这是您正在创建的网络类型。当您的应用程序在需要通信的独立容器中运行时，通常会使用网桥网络。请参阅 网桥网络。

host：对于独立容器，请删除容器与Docker主机之间的网络隔离，然后直接使用主机的网络。host 仅可用于Docker 17.06及更高版本上的集群服务。请参阅 使用主机网络。

overlay：覆盖网络将多个Docker守护程序连接在一起，并使群集服务能够相互通信。您还可以使用覆盖网络来促进群集服务和独立容器之间或不同Docker守护程序上的两个独立容器之间的通信。这种策略消除了在这些容器之间进行操作系统级路由的需要。请参阅叠加网络。

macvlan：Macvlan网络允许您将MAC地址分配给容器，使其在网络上显示为物理设备。Docker守护程序通过其MAC地址将流量路由到容器。macvlan 在处理希望直接连接到物理网络而不是通过Docker主机的网络堆栈进行路由的旧应用程序时，使用驱动程序有时是最佳选择。请参阅 Macvlan网络。

none：对于此容器，请禁用所有联网。通常与自定义网络驱动程序一起使用。none不适用于群体服务。请参阅 禁用容器联网。

网络插件：您可以在Docker中安装和使用第三方网络插件。这些插件可从 Docker Hub 或第三方供应商处获得。有关安装和使用给定网络插件的信息，请参阅供应商的文档。

# 配置方式

```
dockerd --net=network
```

# 基础网络命名空间原理

# bridge

- 初始化网络命名空间
- 创建虚拟设备对
- 分配IP
- 桥接到指定网卡

# host

不创建网络命名空间

# container

- 使用已有容器命名空间

# none

- 初始化网络命名空间不进行配置

# 对端口进行映射

docker run -p source-port:dest-port imagename